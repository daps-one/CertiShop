<!-- <mat-list>
    <div mat-subheader>Productos</div>
    <mat-list-item *ngFor="let detail of details">
        <mat-icon mat-list-icon>folder</mat-icon>
        <div mat-line>{{detail.product.name}} ({{detail.amount}}) - {{detail.totalPrice}}</div>
        <div mat-line></div>
    </mat-list-item>
</mat-list> -->

<mat-grid-list cols="2">
    <mat-grid-tile>
        <div class="container-tabla">
            <table mat-table [dataSource]="details" class="mat-elevation-z8">
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Nombre </th>
                    <td mat-cell *matCellDef="let element"> {{element.product.name}} </td>
                </ng-container>
    
                <ng-container matColumnDef="totalPrice">
                    <th mat-header-cell *matHeaderCellDef> Precio total </th>
                    <td mat-cell *matCellDef="let element"> {{element.totalPrice}} </td>
                </ng-container>
    
                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Cantidad </th>
                    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
                </ng-container>
    
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let element">
                        <mat-button-toggle-group appearance="legacy" name="fontStyle" aria-label="Font Style">
                            <mat-button-toggle (click)="toogleDetail(1, element.product.productId)">+</mat-button-toggle>
                            <mat-button-toggle (click)="toogleDetail(-1, element.product.productId)">-</mat-button-toggle>
                        </mat-button-toggle-group>
                    </td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <div>
                Total: $ {{total}} 
            </div>
        </div>
    </mat-grid-tile>
    <mat-grid-tile>
        <mat-card class="card-form">
            <mat-card-content>
                <form [formGroup]="options">
                    <mat-form-field appearance="fill">
                        <mat-label>Cédula</mat-label>
                        <input matInput [formControl]="identificationControl" type="text" placeholder="Cédula" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Nombres</mat-label>
                        <input matInput [formControl]="namesControl" type="text" placeholder="Nombres" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Apellidos</mat-label>
                        <input matInput [formControl]="surnamesControl" type="text" placeholder="Apellidos" required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Correo</mat-label>
                        <input matInput [formControl]="emailControl" type="email" placeholder="Correo" required>
                    </mat-form-field>

                    <mat-divider></mat-divider>

                    <mat-form-field appearance="fill">
                        <mat-label>Franquicia</mat-label>
                        <mat-select [formControl]="franchiseControl" required>
                            <mat-option *ngFor="let franchise of franchises" [value]="franchise.franchiseId">
                                {{franchise.description}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Trajeta de crédito</mat-label>
                        <input [formControl]="creditCardControl" matInput type="number" placeholder="Tarjeta de crédito"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Fecha de vencimiento</mat-label>
                        <input [formControl]="dateControl" matInput type="month" placeholder="Fecha de vencimiento"
                            required>
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Coutas</mat-label>
                        <input [formControl]="feesControl" matInput type="number" placeholder="Coutas" required>
                    </mat-form-field>
                    <button type="submit" mat-button [disabled]="!options.valid" (click)="onSubmit()">Comprar</button>
                </form>
            </mat-card-content>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>